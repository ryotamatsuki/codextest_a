<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>愛媛県公式YouTubeチャンネル ダッシュボード</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <main class="container">
      <header class="page-header">
        <h1>愛媛県公式チャンネル分析ダッシュボード</h1>
        <p>
          YouTube Data APIから動画一覧を取得し、再生状況と配信戦略の示唆を確認できます。
        </p>
      </header>

      <section class="panel controls">
        <h2>データ取得設定</h2>
        <div class="control-grid">
          <label>
            APIキー
            <input id="apiKey" type="password" placeholder="YouTube Data API v3 key" />
          </label>
          <label>
            チャンネル識別子（@handle or UC...）
            <input id="channelInput" type="text" value="@EhimePref" />
          </label>
          <label>
            取得動画数
            <select id="maxVideos">
              <option value="30">30</option>
              <option value="50" selected>50</option>
              <option value="100">100</option>
            </select>
          </label>
          <button id="loadButton" class="primary">データを読み込む</button>
        </div>
        <p class="note">
          ※APIキーはブラウザ内でのみ使用します（保存しません）。
        </p>
      </section>

      <p id="status" class="status">APIキーを入力して読み込みを実行してください。</p>

      <section id="summary" class="summary-grid hidden"></section>

      <section class="panel hidden" id="insightsPanel">
        <h2>配信戦略の示唆</h2>
        <ul id="insights"></ul>
      </section>

      <section class="charts hidden" id="chartsPanel">
        <article class="panel">
          <h2>公開月別の平均再生数</h2>
          <div id="monthlyChart" class="bar-chart"></div>
        </article>
        <article class="panel">
          <h2>曜日別の平均再生数</h2>
          <div id="weekdayChart" class="bar-chart"></div>
        </article>
      </section>

      <section class="panel hidden" id="videosPanel">
        <h2>動画一覧（再生数順）</h2>
        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>タイトル</th>
                <th>公開日</th>
                <th>再生数</th>
                <th>高評価</th>
                <th>コメント</th>
                <th>長さ</th>
              </tr>
            </thead>
            <tbody id="videosTable"></tbody>
          </table>
        </div>
      </section>
    </main>

    <script type="module" src="main.js"></script>
  </body>
</html>
